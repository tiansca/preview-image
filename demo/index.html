<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>图片预览</title>
    <style>
        img{
            width: 50px;
        }
        div.img-button{
            padding: 12px;
        }
        div.img-button:hover{
            background: #ccc;
        }
        body, html{
            overflow-x: auto;
            height: auto;
            margin: 0;
        }
    </style>
</head>
<body>
<div style="height: 900px;background-color: burlywood">
    <a href="https://www.npmjs.com/package/preview-image-js" target="_blank">点我查看preview-image-js</a>
</div>
<div style="display: flex" id="img-list"></div>
<div style="height: 300px;background-color: olivedrab"></div>
</body>
<script src="../dist/index.js"></script>
<script>
    const imgUrls = [{
        url: './img/1.jpeg',
        name: '图片1'
    }, {
        url: './img/2.jpeg',
        name: '图片1'
    }, {
        url: './img/3.bmp',
        name: '图片1'
    }, {
        url: './img/3.mp4',
        name: '视频'
    }
    , {
        url: './img/3.mp3',
        name: '音乐'
    }, {
        url: './img/XX功能优化设计.docx',
        name: '功能优化设计'
    }, {
        url: './img/A产线内部打印机使用说明.pdf',
        name: 'A产线内部打印机使用说明1'
    }, {
        url: './img/A产线内部打印机使用说明.xls',
        name: 'A产线内部打印机使用说明2'
    }, {
        url: './img/A产线内部打印机使用说明.ppt',
        name: 'A产线内部打印机使用说明3'
    }, {
        url: 'https://www.lingxidata.cn/api/lingxi-im/getsdkAppID.png',
        name: 'A产线内部打印机使用说明4'
    }
    ]
    function preview() {
        previewImage({
            index: 0,
            images: imgUrls,
            delete: true,
            download: true,
            onDelete: function (index, url) {
                console.log('删除', index, url)
            },
            onDownload: function (index, url) {
                console.log('下载', index, url)
            }
        })
    }
    // 遍历插入图片
    for (let i = 0; i < imgUrls.length; i++) {
        let img = document.createElement('div')
        img.src = imgUrls[i]
        img.classList.add('img-button')
        img.innerText = i
        img.onclick = function (e) {
            previewImage({
                index: e.target.innerText,
                images: imgUrls,
                thumbnail: true,
                thumbnailDraggable: true,
                onDelete: function (index, url) {
                    console.log('删除', index)
                    // return Promise.reject('无权限')
                },
                delete: true,
                download: true,
                // thumbnailTitleText: 'overview',
                // maxZoomText: 'It\'s already the maximum size',
                // minZoomText: 'It\'s already the smallest',
                // fitText: 'fit to screen',
                // actualSizeText: 'actual size',
                // zoomInText: 'zoom in',
                // zoomOutText: 'zoom out',
                // rotateLeftText: 'rotate left',
                // rotateRightText: 'rotate right',
                // downloadText: 'download',
                // deleteText: 'delete',
                // nextText: 'next',
                // prevText: 'prev'
            })
        }
        document.body.querySelector('#img-list').appendChild(img)
    }
</script>
</html>